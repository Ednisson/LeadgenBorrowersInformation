
<div class="d-flex justify-content-center" *ngIf="!hideRefresh">
  <div class="spinner-border" role="status">
    <span class="sr-only">Loading...</span>
  </div>
</div>
<br>
<!-- <span *ngIf="lastUpdated != ''" class="offset-md-9">Last Updated : {{lastUpdated}}</span> -->
 <ng-template #content let-modal>
	<div class="modal-header">
		<h4 class="modal-title"><img width="300" height="45" src="https://onboarding.cfic.ph/wp-content/uploads/2022/08/LOGO.png" class="custom-logo" alt="CFC/CCC/CLGI Development" decoding="async"></h4>
	
    @if(updatingStatusFunctionTriggered) {
  
    <button class="btn btn-primary" type="button" disabled>
      <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
      Updating...
    </button>
	}
  @else {
    <button type="button" class="btn-close" aria-label="Close" (click)="modal.dismiss('Cross click')"></button>
  }
  </div>

	<div class="modal-body">
     <h5>LOAN ACCOUNT OPENING</h5>


    <br>
    <div class="row">
      <div class="col-lg-4">
        <label style="font-weight: bold;" for="exampleFormControlInput1">Company Name</label>
          <input type="text" class="form-control" id="principal" readonly>
      </div>
      <div class="col-lg-1">
        <label style="font-weight: bold;" for="exampleFormControlInput1">CIF No.</label>
        <input type="text" class="form-control" id="principal" readonly>
    </div>
    <div class="col-lg-2">
      <label style="font-weight: bold;" for="exampleFormControlInput1">Source of Application</label>
      <input type="text" class="form-control" id="principal" readonly>
    </div>
  <div class="col-lg-2">
    <label style="font-weight: bold;" for="exampleFormControlInput1">Agent</label>
    <input type="text" class="form-control" id="principal" readonly>
</div>
<div class="col-lg-1">
  <label style="font-weight: bold;" for="exampleFormControlInput1">Type</label>
  <input type="text" class="form-control" id="principal" readonly>
</div>
<div class="col-lg-2">
  <label style="font-weight: bold;" for="exampleFormControlInput1">Date of Application</label>
  <input type="text" class="form-control" id="principal" readonly 
  [(ngModel)]="dateApplied" 
  style="cursor: pointer; background-color: lightgrey;" 
  ngbPopover="Copied"
  [autoClose]="true"
  triggers="manual"
  #a="ngbPopover"
  (click)="a.open();closePopOver(a);copyEvent($event)"
  />
</div>
</div>


<br>

<div class="row">
  <div class="col-lg-2">
    <label style="font-weight: bold;" for="exampleFormControlInput1">Last Name</label>
      <input type="text" class="form-control" readonly [(ngModel)]='lastname'
  style="cursor: pointer; background-color: lightgrey;" 
  ngbPopover="Copied"
  [autoClose]="true"
  triggers="manual"
  #b="ngbPopover"
  (click)="b.open();closePopOver(b);copyEvent($event)" 
      />
  </div>  
  <div class="col-lg-2">
    <label style="font-weight: bold;" for="exampleFormControlInput1">First Name</label>
      <input type="text" class="form-control" readonly [(ngModel)]="firstname"
      style="cursor: pointer; background-color: lightgrey;" 
      ngbPopover="Copied"
      [autoClose]="true"
      triggers="manual"
      #c="ngbPopover"
      (click)="c.open();closePopOver(c);copyEvent($event)" 
      >
  </div>

  
  <div class="col-lg-2">
    <label style="font-weight: bold;" for="exampleFormControlInput1">Middle Name</label>
      <input type="text" class="form-control" readonly [(ngModel)]="middlename"
      style="cursor: pointer; background-color: lightgrey;" 
      ngbPopover="Copied"
      [autoClose]="true"
      triggers="manual"
      #d="ngbPopover"
      (click)="d.open();closePopOver(d);copyEvent($event)" 
      >
  </div>

  
  <div class="col-lg-2">
    <label style="font-weight: bold;" for="exampleFormControlInput1">Loan Amount</label>
      <input type="text" class="form-control" readonly [(ngModel)]="loanamountrequested"
      style="cursor: pointer; background-color: lightgrey;" 
      ngbPopover="Copied"
      [autoClose]="true"
      triggers="manual"
      #e="ngbPopover"
      (click)="e.open();closePopOver(e);copyEvent($event)" 
      >
  </div>

  
  <div class="col-lg-2">
    <label style="font-weight: bold;" for="exampleFormControlInput1">Term Desired</label>
      <input type="text" class="form-control" readonly>
  </div>

  
  <div class="col-lg-1">
    <label style="font-weight: bold;" for="exampleFormControlInput1">Term (months)</label>
      <input type="text" class="form-control" readonly [(ngModel)]="loanterm"
      style="cursor: pointer; background-color: lightgrey;" 
      ngbPopover="Copied"
      [autoClose]="true"
      triggers="manual"
      #f="ngbPopover"
      (click)="f.open();closePopOver(f);copyEvent($event)" 
      >
</div>

  
  <div class="col-lg-1">
    <label style="font-weight: bold;" for="exampleFormControlInput1">Interest Rate (%)</label>
      <input type="text" class="form-control" readonly>
  </div>
</div>


<br>

<div class="row">
  <div class="col-lg-2">
    <label style="font-weight: bold;" for="exampleFormControlInput1">Loan Purpose</label>
      <input type="text" class="form-control" readonly [(ngModel)]="loanPurpose"
      style="cursor: pointer; background-color: lightgrey;" 
      ngbPopover="Copied"
      [autoClose]="true"
      triggers="manual"
      #g="ngbPopover"
      (click)="g.open();closePopOver(g);copyEvent($event)" 
      >
  </div>  
  <div class="col-lg-6">
    <label style="font-weight: bold;" for="exampleFormControlInput1">Agency</label>
      <input type="text" class="form-control" readonly [(ngModel)]="agency"
      style="cursor: pointer; background-color: lightgrey;" 
      ngbPopover="Copied"
      [autoClose]="true"
      triggers="manual"
      #h="ngbPopover"
      (click)="h.open();closePopOver(h);copyEvent($event)" 
      >
  </div>

  
  <div class="col-lg-2">
    <label style="font-weight: bold;" for="exampleFormControlInput1">Add-on Rate</label>
      <input type="text" class="form-control" readonly>
  </div>

  
  <div class="col-lg-2">
    <label style="font-weight: bold;" for="exampleFormControlInput1">Monthly Amortization</label>
      <input type="text" class="form-control" readonly>
  </div>
</div>



<br>

<div class="row">
  
  <div class="col-lg-6">
    <label style="font-weight: bold;" for="exampleFormControlInput1">Home Address</label>
      <input type="text" class="form-control" readonly [(ngModel)]="homeaddress" 
      style="cursor: pointer; background-color: lightgrey;" 
      ngbPopover="Copied"
      [autoClose]="true"
      triggers="manual"
      #i="ngbPopover"
      (click)="i.open();closePopOver(i);copyEvent($event)" 
      />
  </div>  
  <div class="col-lg-2">
    <label style="font-weight: bold;" for="exampleFormControlInput1">Length of Stay (months)</label>
      <input type="text" class="form-control" readonly [(ngModel)]="homelengthofstay"
      style="cursor: pointer; background-color: lightgrey;" 
      ngbPopover="Copied"
      [autoClose]="true"
      triggers="manual"
      #j="ngbPopover"
      (click)="j.open();closePopOver(j);copyEvent($event)" 
      
      >
  </div>

  
  <div class="col-lg-2">
    <label style="font-weight: bold;" for="exampleFormControlInput1">Birth Date</label>
      <input type="text" class="form-control" readonly [(ngModel)]="birthdate"
      style="cursor: pointer; background-color: lightgrey;" 
      ngbPopover="Copied"
      [autoClose]="true"
      triggers="manual"
      #k="ngbPopover"
      (click)="k.open();closePopOver(k);copyEvent($event)" 
      
      >
  </div>

  
  <div class="col-lg-1">
    <label style="font-weight: bold;" for="exampleFormControlInput1">Age</label>
      <input type="text" class="form-control" readonly [(ngModel)]="age"
      style="cursor: pointer; background-color: lightgrey;" 
      ngbPopover="Copied"
      [autoClose]="true"
      triggers="manual"
      #l="ngbPopover"
      (click)="l.open();closePopOver(l);copyEvent($event)" 
      >
  </div>

  
  <div class="col-lg-1">
    <label style="font-weight: bold;" for="exampleFormControlInput1">Gender</label>
      <input type="text" class="form-control" readonly [(ngModel)]="sex"
      style="cursor: pointer; background-color: lightgrey;" 
      ngbPopover="Copied"
      [autoClose]="true"
      triggers="manual"
      #m="ngbPopover"
      (click)="m.open();closePopOver(m);copyEvent($event)" 
      >
  </div>

</div>

<br>

<div class="row">
  
  <div class="col-lg-6">
    <label style="font-weight: bold;" for="exampleFormControlInput1">Provincial Address</label>
      <input type="text" class="form-control" readonly [(ngModel)]="provincialaddress" 
      style="cursor: pointer; background-color: lightgrey;" 
      ngbPopover="Copied"
      [autoClose]="true"
      triggers="manual"
      #n="ngbPopover"
      (click)="n.open();closePopOver(n);copyEvent($event)" 
      />
  </div>  
  <div class="col-lg-2">
    <label style="font-weight: bold;" for="exampleFormControlInput1">Length of Stay (months)</label>
      <input type="text" class="form-control" readonly [(ngModel)]="provinciallengthofstay" 
      style="cursor: pointer; background-color: lightgrey;" 
      ngbPopover="Copied"
      [autoClose]="true"
      triggers="manual"
      #o="ngbPopover"
      (click)="o.open();closePopOver(o);copyEvent($event)" 
      
      />
  </div>

  
  <div class="col-lg-2">
    <label style="font-weight: bold;" for="exampleFormControlInput1">Civil Status</label>
      <input type="text" class="form-control" readonly [(ngModel)]="civilstatus"
      style="cursor: pointer; background-color: lightgrey;" 
      ngbPopover="Copied"
      [autoClose]="true"
      triggers="manual"
      #p="ngbPopover"
      (click)="p.open();closePopOver(p);copyEvent($event)" 
      />
  </div>

  
  <div class="col-lg-1">
    <label style="font-weight: bold;" for="exampleFormControlInput1">Citizenship</label>
      <input type="text" class="form-control" readonly>
  </div>

  
  <div class="col-lg-1">
    <label style="font-weight: bold;" for="exampleFormControlInput1">Vesting</label>
    <select class="form-select" aria-label="Default select example" disabled>
      <option selected>Select</option> 
      <option value="Yes">Yes</option>
      <option value="No">No</option>
    </select>
  </div>

</div>


<br>

<div class="row">
  
  <div class="col-lg-2">
    <label style="font-weight: bold;" for="exampleFormControlInput1">Source of Income</label>
      <input type="text" class="form-control" readonly>
  </div>  
  <div class="col-lg-2">
    <label style="font-weight: bold;" for="exampleFormControlInput1">Phone No.</label>
      <input type="text" class="form-control" readonly [(ngModel)]="landlineNo"
      style="cursor: pointer; background-color: lightgrey;" 
      ngbPopover="Copied"
      [autoClose]="true"
      triggers="manual"
      #q="ngbPopover"
      (click)="q.open();closePopOver(q);copyEvent($event)" 
      >
  </div>

  
  <div class="col-lg-2">
    <label style="font-weight: bold;" for="exampleFormControlInput1">Cellphone No.</label>
      <input type="text" class="form-control" readonly [(ngModel)]="cellphoneNo"
      style="cursor: pointer; background-color: lightgrey;" 
      ngbPopover="Copied"
      [autoClose]="true"
      triggers="manual"
      #r="ngbPopover"
      (click)="r.open();closePopOver(r);copyEvent($event)" 
      >
  </div>

  
  <div class="col-lg-2">
    <label style="font-weight: bold;" for="exampleFormControlInput1">Residence Type</label>
      <input type="text" class="form-control" readonly>
  </div>

  <div class="col-lg-2">
    <label style="font-weight: bold;" for="exampleFormControlInput1">If rented/mortgaged, How much?</label>
      <input type="text" class="form-control" readonly [(ngModel)]="homeOwnerhsipHowMuch"
      style="cursor: pointer; background-color: lightgrey;" 
      ngbPopover="Copied"
      [autoClose]="true"
      triggers="manual"
      #s="ngbPopover"
      (click)="s.open();closePopOver(s);copyEvent($event)" 
      
      >
  </div>

  <div class="col-lg-2">
    <label style="font-weight: bold;" for="exampleFormControlInput1">No. of Dependents</label>
      <input type="text" class="form-control" readonly [(ngModel)]="numberOfDependents"
      style="cursor: pointer; background-color: lightgrey;" 
      ngbPopover="Copied"
      [autoClose]="true"
      triggers="manual"
      #t="ngbPopover"
      (click)="t.open();closePopOver(t);copyEvent($event)" 
      
      >
  </div>
</div>


<br>

<div class="row">
  
  <div class="col-lg-2">
    <label style="font-weight: bold;" for="exampleFormControlInput1">Years as OFW/Seaman</label>
      <input type="text" class="form-control" readonly [(ngModel)]="yearsAsOFWSeaman"
      style="cursor: pointer; background-color: lightgrey;" 
      ngbPopover="Copied"
      [autoClose]="true"
      triggers="manual"
      #u="ngbPopover"
      (click)="u.open();closePopOver(u);copyEvent($event)" 
      >
  </div>  
  <div class="col-lg-2">
    <label style="font-weight: bold;" for="exampleFormControlInput1">Employer</label>
      <input type="text" class="form-control" readonly [(ngModel)]="employer"
      style="cursor: pointer; background-color: lightgrey;" 
      ngbPopover="Copied"
      [autoClose]="true"
      triggers="manual"
      #v="ngbPopover"
      (click)="v.open();closePopOver(v);copyEvent($event)" 
      >
  </div>

  
  <div class="col-lg-2">
    <label style="font-weight: bold;" for="exampleFormControlInput1">Position</label>
      <input type="text" class="form-control" readonly [(ngModel)]="position"
      style="cursor: pointer; background-color: lightgrey;" 
      ngbPopover="Copied"
      [autoClose]="true"
      triggers="manual"
      #w="ngbPopover"
      (click)="w.open();closePopOver(w);copyEvent($event)" 
      >
  </div>

  
  <div class="col-lg-2">
    <label style="font-weight: bold;" for="exampleFormControlInput1">Email Address</label>
      <input type="text" class="form-control" readonly [(ngModel)]="personalEmailAddress"
      style="cursor: pointer; background-color: lightgrey;" 
      ngbPopover="Copied"
      [autoClose]="true"
      triggers="manual"
      #x="ngbPopover"
      (click)="x.open();closePopOver(x);copyEventEmailNotUppercase($event)" 
      
      >
  </div>

  <div class="col-lg-2">
    <label style="font-weight: bold;" for="exampleFormControlInput1">Employee ID</label>
      <input type="text" class="form-control" readonly>
  </div>

  <div class="col-lg-2">
    <label style="font-weight: bold;" for="exampleFormControlInput1">Department</label>
      <input type="text" class="form-control" readonly>
  </div>

</div>



<br>
<div class="row">
  <div class="col-lg-2">
    <label style="font-weight: bold;" for="exampleFormControlInput1">Place of Branch</label>
      <input type="text" class="form-control" readonly>
  </div>  
  <div class="col-lg-1">
    <label style="font-weight: bold;" for="exampleFormControlInput1">Monthly Salary</label>
      <input type="text" class="form-control" readonly [(ngModel)]="monthlySalary"
      style="cursor: pointer; background-color: lightgrey;" 
      ngbPopover="Copied"
      [autoClose]="true"
      triggers="manual"
      #y="ngbPopover"
      (click)="y.open();closePopOver(y);copyEvent($event)" 
      >
  </div>
  <div class="col-lg-2">
    <label style="font-weight: bold;" for="exampleFormControlInput1">Date Hired</label>
      <input type="text" class="form-control" readonly>
  </div>
  <div class="col-lg-1">
    <label style="font-weight: bold;" for="exampleFormControlInput1">Length of Service</label>
      <input type="text" class="form-control" readonly>
  </div>
  <div class="col-lg-2">
    <label style="font-weight: bold;" for="exampleFormControlInput1">Immediate Head</label>
      <input type="text" class="form-control" readonly>
  </div>
  <div class="col-lg-2">
    <label style="font-weight: bold;" for="exampleFormControlInput1">Position</label>
      <input type="text" class="form-control" readonly>
  </div>
  <div class="col-lg-2">
    <label style="font-weight: bold;" for="exampleFormControlInput1">Phone No. & Local</label>
      <input type="text" class="form-control" readonly>
  </div>
</div>


<br>
<div class="row">
  <div class="col-lg-3">
    <label style="font-weight: bold;" for="exampleFormControlInput1">Spouse Name</label>
      <input type="text" class="form-control" readonly [(ngModel)]="spouseName"
      style="cursor: pointer; background-color: lightgrey;" 
      ngbPopover="Copied"
      [autoClose]="true"
      triggers="manual"
      #z="ngbPopover"
      (click)="z.open();closePopOver(z);copyEvent($event)" 
      >
  </div>  
  <div class="col-lg-5">
    <label style="font-weight: bold;" for="exampleFormControlInput1">Address</label>
      <input type="text" class="form-control" readonly [(ngModel)]="spouseAddress"
      style="cursor: pointer; background-color: lightgrey;" 
      ngbPopover="Copied"
      [autoClose]="true"
      triggers="manual"
      #aa="ngbPopover"
      (click)="aa.open();closePopOver(aa);copyEvent($event)" 
      >
  </div>
  <div class="col-lg-1">
    <label style="font-weight: bold;" for="exampleFormControlInput1">Citizenship</label>
      <input type="text" class="form-control" readonly>
  </div>
  <div class="col-lg-2">
    <label style="font-weight: bold;" for="exampleFormControlInput1">Birth Date</label>
      <input type="text" class="form-control"  readonly [(ngModel)]="spouseBirthdate"
      style="cursor: pointer; background-color: lightgrey;" 
      ngbPopover="Copied"
      [autoClose]="true"
      triggers="manual"
      #ab="ngbPopover"
      (click)="ab.open();closePopOver(ab);copyEvent($event)"
      >
  </div>
  <div class="col-lg-1">
    <label style="font-weight: bold;" for="exampleFormControlInput1">Age</label>
      <input type="text" class="form-control"  readonly [(ngModel)]="spouseAge"
      style="cursor: pointer; background-color: lightgrey;" 
      ngbPopover="Copied"
      [autoClose]="true"
      triggers="manual"
      #ac="ngbPopover"
      (click)="ac.open();closePopOver(ac);copyEvent($event)"
      
      >
  </div>
</div>



<br>
<div class="row">
  <div class="col-lg-2">
    <label style="font-weight: bold;" for="exampleFormControlInput1">Source of Income</label>
      <input type="text" class="form-control" readonly>
  </div>  
  <div class="col-lg-2">
    <label style="font-weight: bold;" for="exampleFormControlInput1">Name of Employer</label>
      <input type="text" class="form-control" readonly [(ngModel)]="spouseEmployerName"
      style="cursor: pointer; background-color: lightgrey;" 
      ngbPopover="Copied"
      [autoClose]="true"
      triggers="manual"
      #ad="ngbPopover"
      (click)="ad.open();closePopOver(ad);copyEvent($event)"
      >
  </div>
  <div class="col-lg-2">
    <label style="font-weight: bold;" for="exampleFormControlInput1">Position</label>
      <input type="text" class="form-control" readonly>
  </div>
  <div class="col-lg-2">
    <label style="font-weight: bold;" for="exampleFormControlInput1">Monthly Income</label>
      <input type="text" class="form-control" readonly>
  </div>
  <div class="col-lg-2">
    <label style="font-weight: bold;" for="exampleFormControlInput1">Length of Service</label>
      <input type="text" class="form-control" readonly>
  </div>
  <div class="col-lg-2">
    <label style="font-weight: bold;" for="exampleFormControlInput1">Contact No.</label>
      <input type="text" class="form-control" readonly>
  </div>
</div> 



<br>
<div class="row">
  <div class="col-lg-2">
    <label style="font-weight: bold;" for="exampleFormControlInput1">Email Address</label>
      <input type="text" class="form-control" readonly [(ngModel)]="spouseEmailAddress"
      style="cursor: pointer; background-color: lightgrey;" 
      ngbPopover="Copied"
      [autoClose]="true"
      triggers="manual"
      #ae="ngbPopover"
      (click)="ae.open();closePopOver(ae);copyEventEmailNotUppercase($event)"
      >
  </div>  
  <div class="col-lg-3">
    <label style="font-weight: bold;" for="exampleFormControlInput1">Youngest Child in School</label>
      <input type="text" class="form-control" readonly>
  </div>
  <div class="col-lg-3">
    <label style="font-weight: bold;" for="exampleFormControlInput1">School</label>
      <input type="text" class="form-control" readonly>
  </div>
  <div class="col-lg-3">
    <label style="font-weight: bold;" for="exampleFormControlInput1">Course</label>
      <input type="text" class="form-control" readonly>
  </div>
  <div class="col-lg-1">
    <label style="font-weight: bold;" for="exampleFormControlInput1">Year</label>
      <input type="text" class="form-control" readonly>
  </div>
</div> 


<br>
<div class="row">
  <div class="col-lg-2">
    <label style="font-weight: bold;" for="exampleFormControlInput1">Nearest Relative Not Living With You</label>
      <input type="text" class="form-control" readonly [(ngModel)]="relativeName"
      style="cursor: pointer; background-color: lightgrey;" 
      ngbPopover="Copied"
      [autoClose]="true"
      triggers="manual"
      #af="ngbPopover"
      (click)="af.open();closePopOver(af);copyEvent($event)"
      >
  </div>  
  <div class="col-lg-6">
    <label style="font-weight: bold;" for="exampleFormControlInput1">Address</label>
      <input type="text" class="form-control" readonly [(ngModel)]="relativeAddress"
      style="cursor: pointer; background-color: lightgrey;" 
      ngbPopover="Copied"
      [autoClose]="true"
      triggers="manual"
      #ag="ngbPopover"
      (click)="ag.open();closePopOver(ag);copyEvent($event)"
      >
  </div>
  <div class="col-lg-1">
    <label style="font-weight: bold;" for="exampleFormControlInput1">Relationship</label>
      <input type="text" class="form-control" readonly [(ngModel)]="relativeRelationshipToApplicant"
      style="cursor: pointer; background-color: lightgrey;" 
      ngbPopover="Copied"
      [autoClose]="true"
      triggers="manual"
      #ah="ngbPopover"
      (click)="ah.open();closePopOver(ah);copyEvent($event)"
      >
  </div>
  <div class="col-lg-1">
    <label style="font-weight: bold;" for="exampleFormControlInput1">Home Phone No.</label>
      <input type="text" class="form-control" readonly>
  </div>
  <div class="col-lg-2">
    <label style="font-weight: bold;" for="exampleFormControlInput1">Cellphone No.</label>
      <input type="text" class="form-control" readonly [(ngModel)]="relativeCellphoneNumber"
      style="cursor: pointer; background-color: lightgrey;" 
      ngbPopover="Copied"
      [autoClose]="true"
      triggers="manual"
      #ai="ngbPopover"
      (click)="ai.open();closePopOver(ai);copyEvent($event)"
      >
  </div>
</div> 


<br>
<div class="row">
  <div class="col-lg-2">
    <label style="font-weight: bold;" for="exampleFormControlInput1">TIN</label>
      <input type="text" class="form-control" readonly [(ngModel)]="TINNo"
      style="cursor: pointer; background-color: lightgrey;" 
      ngbPopover="Copied"
      [autoClose]="true"
      triggers="manual"
      #aj="ngbPopover"
      (click)="aj.open();closePopOver(aj);copyEvent($event)"
      >
  </div>  
  <div class="col-lg-2">
    <label style="font-weight: bold;" for="exampleFormControlInput1">SSS No.</label>
      <input type="text" class="form-control" readonly [(ngModel)]="SSSNo"
      style="cursor: pointer; background-color: lightgrey;" 
      ngbPopover="Copied"
      [autoClose]="true"
      triggers="manual"
      #ak="ngbPopover"
      (click)="ak.open();closePopOver(ak);copyEvent($event)"
      >
  </div>
  <div class="col-lg-2">
    <label style="font-weight: bold;" for="exampleFormControlInput1">Residence Certificate No.</label>
      <input type="text" class="form-control" readonly>
  </div>
  <div class="col-lg-4">
    <label style="font-weight: bold;" for="exampleFormControlInput1">Place of Issue</label>
      <input type="text" class="form-control" readonly>
  </div>
  <div class="col-lg-2">
    <label style="font-weight: bold;" for="exampleFormControlInput1">Date of Issue</label>
      <input type="text" class="form-control" readonly>
  </div>
</div> 

</div>

<div class="modal-footer">
  <!-- <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button> -->
  @if(loanAccountStatus == 'Pending') {




    @if(updatingStatusFunctionTriggered) {
  
      <button class="btn btn-primary" type="button" disabled>
        <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
        Updating...
      </button>
    }
    @else {
      <button type="button" class="btn btn-success" (click)="UpdateLoanAccountStatus('Processed', modal)">Mark as Processed</button>
      <button type="button" class="btn btn-danger" (click)="UpdateLoanAccountStatus('Kiv', modal)">Mark as KIV</button>
  
    }
  
  
  }
  @if (loanAccountStatus == 'Processed') {

    @if(updatingStatusFunctionTriggered) {
  
      <button class="btn btn-primary" type="button" disabled>
        <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
        Updating...
      </button>
    }
    @else {
      <button type="button" class="btn btn-success" (click)="UpdateLoanAccountStatus('Amended', modal)">Mark as Amended</button>
      <button type="button" class="btn btn-danger" (click)="UpdateLoanAccountStatus('Kiv', modal)">Mark as KIV</button>  
    }
  
  }


  @if (loanAccountStatus == 'Amended') {
    

    

    @if(updatingStatusFunctionTriggered) {
  
      <button class="btn btn-primary" type="button" disabled>
        <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
        Updating...
      </button>
    }
    @else {
      <button type="button" class="btn btn-success" (click)="UpdateLoanAccountStatus('Approved', modal)">Mark as Approved</button>
    }


  }


  @if (loanAccountStatus == 'Approved') {
    <button type="button" class="btn btn-success" disabled>APPROVED</button>
  }
  @if (loanAccountStatus == 'Kiv') 
  {
    <button type="button" class="btn btn-danger" disabled>REJECTED</button>
  }
</div>
</ng-template>


<ng-template #confirmation let-modals>
		<div class="modal-header">
			<h4 class="modal-title" id="modal-title">Updating Status</h4>
			<button
				type="button"
				class="btn-close"
				aria-describedby="modal-title"
				(click)="modals.dismiss('Cross click')"
			></button>
		</div>
		<div class="modal-body">
			<p>
        <!-- <span class="text-primary">"John Doe"</span> -->
				<strong>Are you sure you want to change  this loan status?</strong>
			</p>
			<p>
				All information associated to this borrower loan account will be permanently saved.
				<span class="text-warning">This operation can not be undone.</span>
			</p>
		</div>
		<div class="modal-footer">
			<button type="button" class="btn btn-outline-secondary" (click)="modals.dismiss('cancel click')">Cancel</button>
			<button type="button" class="btn btn-danger" (click)="modals.close('Ok click')">Ok</button>
		</div>
</ng-template>


<nav class="navbar navbar-transparent bg-transparent">
  <!-- <a class="navbar-brand">Navbar</a> -->
    <a class="navbar-brand" href="#">

  </a>
  <button class="btn btn-sm btn-danger my-2 my-sm-0" type="submit" (click)="signOut()">Logout</button>
</nav>


<nav class="navbar">
  <div class="col-lg-9">
    <input  class="form-control" type="text" name="firstName"  [(ngModel)]="multiplecolumnSearch"  (ngModelChange)="SearchQuery()"
    placeholder="Type here to search..."/> 
  </div>

  <div class="col-lg-1">
    <!-- <span style="font-weight: bolder;">Last Updated :</span> -->
    <button type="button" class="btn btn-success btn-sm" (click)="refreshTable()">Refresh Table</button>
  </div>

  
  <div class="col-lg-1">
    <!-- <button type="button" class="btn btn-primary btn-sm" (click)="refreshTable()">Refresh Table</button> -->
    <span>{{lastUpdated}}</span>
  </div>
</nav>
<table class="table table-striped" data-search="true" data-show-refresh="true">
<thead>
    <tr>
        <th>Date<button type="button" (click)="dateAppliedSortClick()" class="btn btn-link"><i [class]="dateAppliedSortingDescending ? 'fas fa-sort-up' : 'fas fa-sort-down'"></i></button></th>
        <th>Lastname<button (click)="lastnameSortClick()" type="button" class="btn btn-link"><i [class]="lastnameSortingDescending ? 'fas fa-sort-up' : 'fas fa-sort-down'"></i></button></th>
        <th>Firstname<button (click)="firstnameSortClick()" type="button" class="btn btn-link"><i [class]="firstnameSortingDescending ? 'fas fa-sort-up' : 'fas fa-sort-down'"></i></button></th>
        <th>Middlename<button (click)="middlenameSortClick()" type="button" class="btn btn-link"><i [class]="middlenameSortingDescending ? 'fas fa-sort-up' : 'fas fa-sort-down'"></i></button></th>
        <th>Agency<button (click)="seaBasedSortClick()" type="button" class="btn btn-link"><i [class]="seaBasedSortingDescending ? 'fas fa-sort-up' : 'fas fa-sort-down'"></i></button></th>
        <th>Amount<button (click)="amountSortClick()" type="button" class="btn btn-link"><i [class]="amountSortingDescending ? 'fas fa-sort-up' : 'fas fa-sort-down'"></i></button></th>
        <th>Term<button (click)="desiredTermSortClick()" type="button" class="btn btn-link"><i [class]="desiredTermSortingDescending ? 'fas fa-sort-up' : 'fas fa-sort-down'"></i></button></th>
        <th>Status<button (click)="statusSortClick()" type="button" class="btn btn-link"><i [class]="statusSortingDescending ? 'fas fa-sort-up' : 'fas fa-sort-down'"></i></button></th>
        <!-- <th>Landbased Agency <button (click)="landBasedSortClick()" type="button" class="btn btn-link"><i [class]="landBasedSortingDescending ? 'fas fa-sort-up' : 'fas fa-sort-down'"></i></button></th> -->
    </tr>
</thead>

<tbody>
  @for (data of borrowersList | slice: (currentPage-1) * pageSize : (currentPage-1) * pageSize + pageSize; track $index) 
  {
    <tr  (click)="openXl(content, data)" style="cursor: pointer;">
      <td>{{data.DateApplied}}</td>
      <td>{{data.BorrowerLastName}}</td>
      <td>{{data.BorrowerFirstName}}</td>
      <td>{{data.BorrowerMiddleName}}</td>
      <td>{{data.Agency}}</td>
      <td>{{data.AmountApplied}}</td>
      <td>{{data.DesiredTermmonths}}</td>
      <td>{{data.Status == 'Kiv' ? 'Rejected' :   data.Status  }}</td>
      </tr> 
  }
<!-- 
    <tr *ngFor="let data of borrowersList | slice: (currentPage-1) * pageSize : (currentPage-1) * pageSize + pageSize" (click)="openXl(content, data)" style="cursor: pointer;">
    <td>{{data.DateApplied}}</td>
    <td>{{data.BorrowerLastName}}</td>
    <td>{{data.BorrowerFirstName}}</td>
    <td>{{data.BorrowerMiddleName}}</td>
    <td>{{data.Agency}}</td>
    <td>{{data.AmountApplied}}</td>
    <td>{{data.DesiredTermmonths}}</td>
    </tr> -->
</tbody>

</table>

<div class="d-flex justify-content-between p-2">
    <ngb-pagination class="pagination_class" [collectionSize]="borrowersList.length" [(page)]="currentPage" [pageSize]="pageSize">
    </ngb-pagination>
</div>

